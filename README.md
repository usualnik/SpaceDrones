# Space Drones

![](Assets/Art/SpaceDrones.gif)

Некоторые условия невыполнены, ввиду нехватки времени, но я старался разработать качественную и расширяемую архитектуру.
В ТЗ сказано не более 36 часов, с момента получения. Получил я его в ВС, но предупредил в чате, что смогу начать только в ПН.

Впринципе со всеми пунктами ТЗ я мог бы справиться, включая опциональные.

## Реализовано
- Поиск ближайшего свободного ресурса
- Мувмент к ресурсу(Поиск пути, избегание препятсвий)
- Дрон собирает ресурсы в течении 2ух секунд, ресурс исчезает
- Дрон возвращается на базу
- Выгрузка ресурса + простенькая система частиц (не хватало времени)
- Цикл повторяется
## Не выполнено
- Избегание столкновений дронов
- UI

Причина - нехватка времени.

## Архитектура

### Ресурсы спавнятся по всей карте через обычный спавнер с InvokeRepeating(), про ресурсы знает ResourceManager.cs
 
1) Скрипт Resource.cs реализует интерфейс ICollectable, что позволяет его собирать.
  
### Обе базы имеют скрипты для спавна дронов и инвентарь для хранения ресурсов, собранных дронами

### Дроны управляются одним скриптом Drone, который содержит FSM и прокидывает события на зависимые скрипты:
1) DroneMovement.cs // Выполняет движение к цели и проверку препятствий перед собой, так же валидирует движение, чтобы дрон знал на какую базу возвращаться. Уведомляет об успешности передвижения скрипт Drone через callback
2) DroneResourceScanner.cs // Ищет ближайший незанятый ресурс из списка, который хранит ResourceManager.cs, уведомляет об успешности скрипт Drone через callback
3) DroneResourceCollector.cs // Собирает ресурс, передавая информацию о нем в DroneInventory.cs, уведомляет об успешности скрипт Drone через callback
4) DroneInventory.cs // Хранит информацию о ресурсах, находящихся в дроне, имеет функционал по выгрузке ресурсов на базу в скрипт BaseInventory.cs
5) DroneAnimationHandler.cs // Отвечает за анимацию, проигрывает particle system, при выгрузке ресурсов на базу.
